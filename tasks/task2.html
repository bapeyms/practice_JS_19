<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 2</title>
    <script src="jquery-3.5.1.min.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        #page{
            height: 100vh;
            display: flex;
        }
        #vertical{
            display: flex;
            flex-direction: column;
            width: 29%;
        }
        #horizontal{
            display: flex;
            flex-direction: column;
            width: 70%;
        }
        #pink{
            background-color: lightpink;
            height: 49%;
        }
        #blue{
            background-color: lightskyblue;
            height: 49%;
        }
        #green{
            background-color: lightgreen;
            height: 69%;
        }
        #orange{
            background-color: lightsalmon;
            height: 29%;
        }
        #equal1, #equal2{
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            height: 18px;
            font-weight: bold;
            font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }
        #arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            cursor: pointer;
        }
        #arrow img {
            width: 17px;
            height: auto;
        }
        span{
            background-color: lightgray;
            border: none;
        }
        span:hover{
            background-color: rgb(173, 173, 173);
        }
    </style>
    <script>
        $(document).ready(function(){
            $("#arrow").click(function(){
                let img = $(this).find("img");
                if($("#vertical").width() > 0){
                    $("#vertical").css("width", "0");
                    $("#horizontal").css("width", "100%");
                    img.attr("src", "photos/arrow1.png");
                }
                else{
                    $("#vertical").css("width", "29%");
                    $("#horizontal").css("width", "70%");
                    img.attr("src", "photos/arrow2.png");
                }
            })

            function EqualFunc(topBlock, bottomBlock, handle) {
                let isDragging = false;
                let startY;
                let startTopHeight, startBottomHeight;
                
                $(handle).mousedown(function(e){
                    isDragging = true;
                    startY = e.clientY;
                    startTopHeight = $(topBlock).height();
                    startBottomHeight = $(bottomBlock).height();
                    e.preventDefault();
                });
                
                $(document).mousemove(function(e){
                    if(!isDragging) return;
                    let delta = e.clientY - startY;
                    let newTopHeight = startTopHeight + delta;
                    let newBottomHeight = startBottomHeight - delta;
                    if(newTopHeight < 100){
                        newTopHeight = 100;
                        newBottomHeight = startTopHeight + startBottomHeight - 100;
                    }
                    if(newBottomHeight < 100){
                        newBottomHeight = 100;
                        newTopHeight = startTopHeight + startBottomHeight - 100;
                    }
                    
                    $(topBlock).height(newTopHeight);
                    $(bottomBlock).height(newBottomHeight);
                });
                
                $(document).mouseup(function(){
                    isDragging = false;
                });
            }
            EqualFunc("#pink", "#blue", "#equal1");
            EqualFunc("#green", "#orange", "#equal2");
        });
    </script>
</head>
<body>
    <div id="page">
        <div id="vertical">
            <div id="pink"></div>
            <span id="equal1">=</span>
            <div id="blue"></div>
        </div>
        <span id="arrow"><img src="photos/arrow2.png"></span>
        <div id="horizontal">
            <div id="green"></div>
            <span id="equal2">=</span>
            <div id="orange"></div>
        </div>
    </div>
</body>
</html>